# Описание:
Вам попал на руки фрагмент технического задания на разработку функционала "Корзина" для интернет-магазина "Петрушка Зеленая". В ТЗ есть несколько логических противоречий, недочетов и неполных мест.

## Задание 1: Анализ требований
**1. Противоречия в предоставленном ТЗ**

- Пункт 7 и 13. <br>
В пункте 7 - цена в корзине фиксированная, в пункте 13 - цена в корзине может обновляться, если поменялась цена в каталоге. Данные два пункта противоречат друг другу;
- Пункт 2 и 9.  <br>
В пункте 2 можно уменьшить количество товаров до 1шт, в пункте 9 можно уменьшить до 0, тем самым удалить товар из корзины. Данные два пункта противоречат друг другу;

 **Недочеты в предоставленном ТЗ**
- Пункт 3 и 5. <br>
Пункт 3 и 5 можно объединить в один общий логичеcкий пункт;
- Пропущен пункт 12;
- Пункт 6
Сообщение "Лимит корзины превышен" не расскрывает точный смысл ошибки. Непонятно, какой именно лимит превышен (10шт для одного товара, 5 разных товаров, 20шт для всей корзины);
  

**2. Исправленная версия ТЗ**
   1. Пользователь может добавить любой товар в корзину из наличия каталога. При добавлении может сразу изменить количество от 1шт до 10шт.
   2. В корзине пользователь может изменить количество от 1шт до 10шт включительно, если не превышает наличие по каталогу и не противоречит пункту 4.
   3. Если при добавлении товар уже есть в корзине и он не противоречит пункту 4, то количество суммируется. 
   4. В корзине может находиться не более 5 различных товаров от разных производителей, суммарное количество всех товаров в корзине не может превышать 20 шт, пользователь может добавить в корзину от 1шт до 10шт одного товара,пользователь может добавлять одинковый товар от разных производителей.
   5. При попытке добавить товар, превышающий лимиты по количеству единиц, система должна предуприть об ошибке и показывает сообщение "Выбрано максимальное количество единиц товара для одного товара ".
   6. При попытке добавить товар, превышающий общее количество в 20 единиц, система должна предуприть об ошибке и показывает сообщение "Достигнуто максимальное количество единиц товара для всей корзины".
   7. При попытке добавить товар, превышающий общее количество разных товаров, система должна предуприть об ошибке и показывает сообщение "В корзине достигнуто максимальное количество разных товаров".
   8. При удалении 1 товара в корзине используется 2 метода: уменьшение количества до 0 шт или нажатием на кнопку удаления, которая находится рядом с выбранным товаром.
   9. При удалении нескольких товаров: выбираются checkbox нужных товаров, затем нажимается кнопка для удаления выбранных товаров.
   10. При очистке всей корзины, используется кнопка "очистить корзину".
   11. Цена на товар фиксируется на момент добавления товара в корзину. Если цена изменилась в каталоге, система должна уведомить всплывающим окном ("Изменилась цена товара в корзине, ознакомьтесь и зменениями!") пользователя об изменении цены и цена в корзине должна быть обновлена при следующем просмотре корзины.
   12. В корзине отображается блок с рекламой рекомендуемых товаров, который появляется каждый будний день по утрам с 07:00 до 11:00 и по вечерам с 17:00 до 21:00 по UTC+3 (Московское время).
   13. Глобавльное обновление каталога (в том числе и с ценами) происходит в техническое время: c 23:00 до 02:00 по UTC+3.


**3. Вопросы к стейкхолдерам:**
   <br>
  - С какого часа начинается реклама в утреннее, вечернее время и в каком часу заканчивается реклама?
  - Какой часовой пояс используем, UTC+3(Московское время)?
  - Как используем кнопку для удаление товара: удаление происходит нажатием уменьшением кнопки товара до 0 шт или на отдельную кнопку? 
  - Что, если пользователю нужно выбрать и удалить конкретные несколько позиции,то для этого делаем checkbox кнопки для выбора товара и для дальнейшего удаления?
  - Создаем кнопку для полной очистки корзины?
  - Есть ли требования к цветам, дизайну?
  - Используем автоматическое обновление цен, в том числе и в корзине?
  - Обновление цен в каталоге происходит сразу же после изменения цены или в специлаьное техническое время (ночью (c 23:00 до 02:00, UTC+3) или в определенные часы)?
  - Откуда берутся актуальные данные о наличии товара (остатках на складе)? Нужно ли проверять и обновлять доступное количество при изменении его в корзине, и блокировать добавление сверх доступного остатка?
  - При превышении лимита, когда добавляется товар в корзину и в самой корзине, система должна предупредить о конкретной логической ошибке (нельзя добавить 6 разных товар, нельзя добавить 11 единиц одного товара, суммарное количество превышает 20 шт)?
  - Система должна уведомить, если лимиты по наличию товара достингуты, а в корзине нет?
  - В корзине должна быть реклама других продуктов от выбранных производителей товаров в корзине или от всех производителей каталога?
  - Вопрос к бизнес заказчику: точно ли нужна реклама товаров в корзине? Это может оттолкнуть пользователя от покупки.
    
  
  ## Задание 2: Проектирование API
  **1. Пример REST API запроса**
  ```
      GET https://api.shop.com/v1/partners?city=moscow
      Accept: application/json
      Authorization: Bearer <user_token>
  ```
 **2. Пример REST API ответа**
 ```
{
  "title": "Выберите магазин",
  "city": "Москва",
  "partners": [
    {
      "id": "metro_1",
      "name": "METRO",
      "description": "Ближайшая доставка сегодня 21:00-23:00",
      "logo_url": "https://cdn-mcc-opv-s3.metro-cc.ru/mcc-opv-public-production/mcc/docs/metro_RGB.jpg",
      "delivery_type": "scheduled",
      "delivery_time_min": "21:00",
      "delivery_time_max": "23:00",
      "delivery_fee": 169,
      "min_order": 3000,
      "delivery_assembly": 59,
      "available": true,
      "weight_limit": 30,
    },

    {
      "id": "auchan_1",
      "name": "АШАН",
      "description": "Ближайшая доставка сегодня 18:00-20:00",
      "logo_url": "https://upload.wikimedia.org/wikipedia/ru/thumb/7/78/Auchan-logo.svg/1280px-Auchan-logo.svg.png?20190826084109",
      "delivery_type": "scheduled",
      "delivery_time_min": "18:00",
      "delivery_time_max": "20:00",
      "min_order": 1000,
      "delivery_fee": 200,
      "available": true,
      "weight_limit": 30,
    },


    {
      "id": "vkusvill_1",
      "name": "ВкусВилл",
      "description": "Быстрая доставка от 20 до 60 минут",
      "logo_url": "https://disk.yandex.ru/d/xvzn2EPu4Yl9Xw/%D0%92%D0%BA%D1%83%D1%81%D0%92%D0%B8%D0%BB%D0%BB%20%D0%B7%D0%B5%D0%BB%D0%B5%D0%BD%D1%8B%D0%B9/%D0%9B%D0%BE%D0%B3%D0%BE%20%D0%92%D0%BA%D1%83%D1%81%D0%92%D0%B8%D0%BB%D0%BB%20%D0%B7%D0%B5%D0%BB%D0%B5%D0%BD%D1%8B%D0%B9.svg",
      "delivery_type": "scheduled",
      "delivery_minutes_min": 20,
      "delivery_minutes_max": 60,
      "min_order": 3500,
      "delivery_fee": 0,
      "available": true,
      "weight_limit": 20,
    },

    {
      "id": "victoria_group_1",
      "name": "ВИКТОРИЯ",
      "description": "Ближайшая доставка сегодня 17:00-19:00",
      "logo_url": "https://victoria-group.ru/local/templates/victoria_copy/img/logo.jpg",
      "delivery_type": "scheduled",
      "delivery_time_min": "17:00",
      "delivery_time_max": "19:00",
      "min_order": 3000,
      "delivery_fee": 0,
      "available": true,
      "weight_limit": 50,
    }
  ]
}

 ```
  
## Задание 3: архитектура




